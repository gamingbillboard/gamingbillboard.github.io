<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TIFFIN BILLBOARD</title>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #222;
            color: #fff;
            text-align: center;
            padding: 50px;
        }
        .billboard {
            background-color: #333;
            border: 5px solid #ffcc00;
            padding: 30px;
            max-width: 600px;
            margin: auto;
            box-shadow: 95px 45px 80px rgba(255, 204, 0, 0.8);
        }
        h1 {
            color: #ffcc00;
        }
        a {
            color: #ffcc00;
            font-weight: bold;
            text-decoration: none;
        }
        a:hover {
            text-decoration: underline;
        }
        .footnote {
            text-align: left;
            color: #D3D3D3;
        }
        .container {
            max-width: 400px;
            margin: 20px auto;
            padding: 20px;
            border: 1px solid #ccc;
            background: #444;
        }
        input {
            margin: 10px 0;
            padding: 10px;
            width: 95%;
        }
        button {
            margin: 10px 0;
            padding: 10px;
            width: 100%;
        }
    </style>
</head>
<body>
    <div class="billboard">
        <h1>ATTENTION:</h1>
        <p>It has come to my attention that <strong>MANY</strong> websites have been blocked.</p>
        <p>For games and unrestricted access, please visit:<br>
        <a href="https://schoolgamin.github.io/mathematics/" target="_blank">schoolgamin.github.io/mathematics</a></p>
        <p>For minecraft:<br><a href="resent.html" download>Click me - Download</a></p>
        <p>I, <strong>The H4ck3r</strong>, am still in business, no question.</p>
        <p>Rumors have been spreading that GitHub has been blocked. (spoiler, it has not!)<br>Everything is running smoothly (hopefully).</p>
        <p>Stay tuned for more updates!</p>
        <p class="footnote"><strong>NOTES:</strong><br>Please bookmark!!!<br>Email <a href="mailto:operation_500@outlook.com?subject=OPT%20ME%20IN?body=OPT%20ME%20IN">operation_500@outlook.com</a> with "OPT ME IN" for live updates.</p>
    </div>
    
    <div class="container">
        <h2>Vouch for a Friend</h2>
        <input type="email" id="userEmail" placeholder="Your Email">
        <input type="email" id="friendEmail" placeholder="Friend's Email">
        <button onclick="submitVouch()">Vouch</button>
        <p id="message"></p>
    </div>
    
    <script>
        const firebaseConfig = {
            apiKey: "YOUR_API_KEY",
            authDomain: "YOUR_AUTH_DOMAIN",
            projectId: "YOUR_PROJECT_ID",
            storageBucket: "YOUR_STORAGE_BUCKET",
            messagingSenderId: "YOUR_SENDER_ID",
            appId: "YOUR_APP_ID"
        };

        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();

        async function submitVouch() {
            const userEmail = document.getElementById("userEmail").value;
            const friendEmail = document.getElementById("friendEmail").value;
            const message = document.getElementById("message");

            if (!userEmail || !friendEmail || userEmail === friendEmail) {
                message.innerText = "Invalid input. Please check emails.";
                return;
            }

            const userRef = db.collection("users").doc(userEmail);
            const friendRef = db.collection("users").doc(friendEmail);
            
            const userDoc = await userRef.get();
            if (userDoc.exists && userDoc.data().hasVouched) {
                message.innerText = "You have already vouched for someone.";
                return;
            }
            
            const friendDoc = await friendRef.get();
            if (!friendDoc.exists) {
                await friendRef.set({ vouches: 1 });
            } else {
                await friendRef.update({ vouches: friendDoc.data().vouches + 1 });
            }
            
            await userRef.set({ hasVouched: true });
            message.innerText = "Vouch successful!";
        }
    </script>
</body>
</html>
